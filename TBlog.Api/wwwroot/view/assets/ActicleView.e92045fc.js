import{t as r,d as u,x as h,D as m,y as _}from"./interface.47cb3ee4.js";import{_ as p,P as b,o as f,d as g,e,t as l,f as y,w as d,v as c,C as v,D as k}from"./vendor.b0a0702d.js";import"./index.ef974605.js";const C={name:"ArtcleEditor",data(){return{Title:"",Content:"",PosterImg:"",ActicleReleaseForm:"1",ActicleType:"1",ActicleTags:[],ActicleCDate:"",UserHeadImg:"",UserName:"",LikeNums:0,LookNums:0,CBlogName:""}},methods:{async InitActicle(){if(this.$route.query.id!=null){let t=await r(this.$route.query.id);t.Status==200&&(this.Title=t.Data.Title,this.ActicleTags=[...t.Data.Tags],this.PosterImg=t.Data.PosterUrl,this.ActicleReleaseForm=t.Data.ReleaseForm,this.ActicleType=t.Data.ActicleType,this.Content=t.Data.Content,this.ActicleCDate=t.Data.CDate,this.LikeNums=t.Data.LikeNum,this.LookNums=t.Data.LookNum,this.CBlogName=t.Data.CBlogName,document.title=this.Title)}},async InitUserInfo(){let t=await u(this.$route.params.blogname);t!=null&&t.Status==200&&(this.UserName=t.Data.UserName,this.UserHeadImg=t.Data.HeadImgUrl)},async OnClickLikeButton(){(await h(this.$route.query.id)).Status==200&&this.LikeNums++},OnClickEditorButton(){this.$router.push("/view/acticleEditor/"+this.$route.params.blogname+"?id="+this.$route.query.id)},async OnClickDeleteButton(){b.exports.Modal.getOrCreateInstance(document.getElementById("deleteModal")).hide(),(await m(this.$route.query.id)).Status==200&&(this.$toast.success("\u5220\u9664\u6210\u529F!"),this.$router.push("/view/acticleList/"+this.$route.params.blogname))}},async mounted(){if(this.$route.query.id==null){this.$router.push("/view/index");return}this.InitUserInfo(),this.InitActicle(),await _(this.$route.query.id)}},i=t=>(v("data-v-376fe636"),t=t(),k(),t),D={class:"row justify-content-center",style:{"padding-top":"80px"}},w={class:"col-xl-10 col-lg-10 col-md-11 col-sm-12"},x={class:"main rounded bg-white mx-xl-5 mx-3 px-xl-5 px-md-3 px-2 py-4"},L={class:"title"},N={class:"header d-flex justify-content-between flex-wrap my-4"},A={class:"header-right d-flex"},I=["src"],B={class:"header-content align-self-center"},T={class:"header-name"},S={class:"header-info"},U={class:"header-info"},O=["innerHTML"],M=i(()=>e("div",{class:"mescroll-upwarp mescroll-hardware",style:{visibility:"visible",display:"block"}},[e("span",{class:"upwarp-nodata"},"-- END --")],-1)),q={class:"footer d-flex justify-content-center"},E=["disabled"],$=i(()=>e("i",{class:"bi bi-hand-thumbs-up"},null,-1)),j={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary"},H=i(()=>e("span",{class:"visually-hidden"},"unread messages",-1)),P=i(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),V=[P],F={type:"button",class:"btn btn-outline-danger mx-3","data-bs-toggle":"modal","data-bs-target":"#deleteModal"},R=i(()=>e("i",{class:"bi bi-trash"},null,-1)),G=[R],z={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"TagModalLabel","aria-hidden":"true"},J={class:"modal-dialog modal-dialog-centered"},K={class:"modal-content"},Q=i(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"TagModalLabel"},"\u5220\u9664\u6587\u7AE0"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","data-bs-target":"#deleteModal","aria-label":"Close"})],-1)),W=i(()=>e("div",{class:"modal-body"},[e("h4",null,"\u786E\u5B9A\u8981\u5220\u9664\u5417?")],-1)),X={class:"modal-footer"};function Y(t,o,Z,ee,s,a){return f(),g("div",D,[e("div",w,[e("div",x,[e("div",L,l(s.Title),1),e("div",N,[e("div",A,[e("img",{class:"header-img rounded-circle mr-2",src:s.UserHeadImg},null,8,I),e("div",B,[e("div",T,l(s.UserName),1),e("div",S,l(s.ActicleCDate),1),e("div",U,"\u9605\u8BFB "+l(s.LookNums)+" \xB7 \u70B9\u8D5E "+l(s.LikeNums),1)])])]),e("div",{class:"content",innerHTML:s.Content},null,8,O),M,e("div",q,[e("button",{type:"button",class:"btn btn-outline-primary position-relative mx-3",onClick:o[0]||(o[0]=(...n)=>a.OnClickLikeButton&&a.OnClickLikeButton(...n)),disabled:t.isSelf(t.$route)?"disabled":!1},[$,e("span",j,[y(l(s.LikeNums)+"+ ",1),H])],8,E),d(e("button",{type:"button",class:"btn btn-outline-success mx-3",onClick:o[1]||(o[1]=(...n)=>a.OnClickEditorButton&&a.OnClickEditorButton(...n))},V,512),[[c,t.isSelf(t.$route)]]),d(e("button",F,G,512),[[c,t.isSelf(t.$route)]])])]),e("div",z,[e("div",J,[e("div",K,[Q,W,e("div",X,[e("button",{type:"button",class:"btn btn-danger",onClick:o[2]||(o[2]=(...n)=>a.OnClickDeleteButton&&a.OnClickDeleteButton(...n))},"\u5220\u9664")])])])])])])}var oe=p(C,[["render",Y],["__scopeId","data-v-376fe636"]]);export{oe as default};
